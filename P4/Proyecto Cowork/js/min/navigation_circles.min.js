(function(window){function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function DotNav(el,selector,options){this.nav=el;this.options=extend({},this.options);extend(this.options,options);this._init(selector)}DotNav.prototype.options={};DotNav.prototype._init=function(selector){var hop=this.nav.parentNode.className.indexOf("dotstyle-hop")!==-1;var dots=[].slice.call(this.nav.querySelectorAll(selector)),current=0,self=this;dots.forEach(function(dot,idx){dot.addEventListener("click",function(ev){ev.preventDefault();if(idx!==current){dots[current].parentNode.className="";setTimeout(function(){dot.parentNode.className+=" current";current=idx;if(typeof self.options.callback==="function"){self.options.callback(current)}},25)}})})};window.DotNav=DotNav})(window);